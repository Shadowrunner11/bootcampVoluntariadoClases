function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire8ed7;e.register("eNZ4G",(function(n,r){t(n.exports,"diagram",(()=>o));var a=e("5Gmgp"),l=e("dOnoM"),i=e("jmbVX");e("2YFJl"),e("2ujND"),e("i8Fxz"),e("4LkSm"),e("hV1gR"),e("c0ySZ"),e("6Radu"),e("ilMBJ"),e("gngdn");const o={parser:a.p,db:a.f,renderer:l.f,styles:l.a,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,(0,i.h)({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),l.f.setConf(t.flowchart),a.f.clear(),a.f.setGen("gen-2")}}})),e.register("dOnoM",(function(n,r){t(n.exports,"f",(()=>f)),t(n.exports,"a",(()=>u));var a=e("4LkSm"),l=e("2YFJl"),i=e("5Gmgp"),o=e("jmbVX"),s=e("3IUvT"),d=e("evFAv"),c=e("ilMBJ");const p={},g=function(t,e,n,r,a,l){const i=r.select(`[id="${n}"]`);Object.keys(t).forEach((function(n){const r=t[n];let d="default";r.classes.length>0&&(d=r.classes.join(" ")),d+=" flowchart-label";const p=(0,s.n)(r.styles);let g,h=void 0!==r.text?r.text:r.id;if(o.l.info("vertex",r,r.labelType),"markdown"===r.labelType)o.l.info("vertex",r,r.labelType);else if((0,o.k)((0,o.g)().flowchart.htmlLabels)){const t={label:h.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};g=(0,c.addHtmlLabel)(i,t).node(),g.parentNode.removeChild(g)}else{const t=a.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",p.labelStyle.replace("color:","fill:"));const e=h.split(o.e.lineBreakRegex);for(const n of e){const e=a.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=n,t.appendChild(e)}g=t}let f=0,u="";switch(r.type){case"round":f=5,u="rect";break;case"square":case"group":default:u="rect";break;case"diamond":u="question";break;case"hexagon":u="hexagon";break;case"odd":case"odd_right":u="rect_left_inv_arrow";break;case"lean_right":u="lean_right";break;case"lean_left":u="lean_left";break;case"trapezoid":u="trapezoid";break;case"inv_trapezoid":u="inv_trapezoid";break;case"circle":u="circle";break;case"ellipse":u="ellipse";break;case"stadium":u="stadium";break;case"subroutine":u="subroutine";break;case"cylinder":u="cylinder";break;case"doublecircle":u="doublecircle"}e.setNode(r.id,{labelStyle:p.labelStyle,shape:u,labelText:h,labelType:r.labelType,rx:f,ry:f,class:d,style:p.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:l.db.getTooltip(r.id)||"",domId:l.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:(0,o.g)().flowchart.padding}),o.l.info("setNode",{labelStyle:p.labelStyle,labelType:r.labelType,shape:u,labelText:h,rx:f,ry:f,class:d,style:p.style,id:r.id,domId:l.db.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:(0,o.g)().flowchart.padding})}))},h=function(t,e,n){o.l.info("abc78 edges = ",t);let r,a,i=0,d={};if(void 0!==t.defaultStyle){const e=(0,s.n)(t.defaultStyle);r=e.style,a=e.labelStyle}t.forEach((function(n){i++;var c="L-"+n.start+"-"+n.end;void 0===d[c]?(d[c]=0,o.l.info("abc78 new entry",c,d[c])):(d[c]++,o.l.info("abc78 new entry",c,d[c]));let g=c+"-"+d[c];o.l.info("abc78 new link id to be used is",c,g,d[c]);var h="LS-"+n.start,f="LE-"+n.end;const u={style:"",labelStyle:""};switch(u.minlen=n.length||1,"arrow_open"===n.type?u.arrowhead="none":u.arrowhead="normal",u.arrowTypeStart="arrow_open",u.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":u.arrowTypeStart="arrow_cross";case"arrow_cross":u.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":u.arrowTypeStart="arrow_point";case"arrow_point":u.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":u.arrowTypeStart="arrow_circle";case"arrow_circle":u.arrowTypeEnd="arrow_circle"}let b="",y="";switch(n.stroke){case"normal":b="fill:none;",void 0!==r&&(b=r),void 0!==a&&(y=a),u.thickness="normal",u.pattern="solid";break;case"dotted":u.thickness="normal",u.pattern="dotted",u.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":u.thickness="thick",u.pattern="solid",u.style="stroke-width: 3.5px;fill:none;";break;case"invisible":u.thickness="invisible",u.pattern="solid",u.style="stroke-width: 0;fill:none;"}if(void 0!==n.style){const t=(0,s.n)(n.style);b=t.style,y=t.labelStyle}u.style=u.style+=b,u.labelStyle=u.labelStyle+=y,void 0!==n.interpolate?u.curve=(0,s.o)(n.interpolate,l.curveLinear):void 0!==t.defaultInterpolate?u.curve=(0,s.o)(t.defaultInterpolate,l.curveLinear):u.curve=(0,s.o)(p.curve,l.curveLinear),void 0===n.text?void 0!==n.style&&(u.arrowheadStyle="fill: #333"):(u.arrowheadStyle="fill: #333",u.labelpos="c"),u.labelType=n.labelType,u.label=n.text.replace(o.e.lineBreakRegex,"\n"),void 0===n.style&&(u.style=u.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),u.labelStyle=u.labelStyle.replace("color:","fill:"),u.id=g,u.classes="flowchart-link "+h+" "+f,e.setEdge(n.start,n.end,u,i)}))},f={setConf:function(t){const e=Object.keys(t);for(const n of e)p[n]=t[n]},addVertices:g,addEdges:h,getClasses:function(t,e){o.l.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return}},draw:function(t,e,n,r){o.l.info("Drawing flowchart"),r.db.clear(),i.f.setGen("gen-2"),r.parser.parse(t);let c=r.db.getDirection();void 0===c&&(c="TD");const{securityLevel:p,flowchart:f}=(0,o.g)(),u=f.nodeSpacing||50,b=f.rankSpacing||50;let y;"sandbox"===p&&(y=(0,l.select)("#i"+e));const w="sandbox"===p?(0,l.select)(y.nodes()[0].contentDocument.body):(0,l.select)("body"),x="sandbox"===p?y.nodes()[0].contentDocument:document,k=new a.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:c,nodesep:u,ranksep:b,marginx:0,marginy:0}).setDefaultEdgeLabel((function(){return{}}));let m;const v=r.db.getSubGraphs();o.l.info("Subgraphs - ",v);for(let t=v.length-1;t>=0;t--)m=v[t],o.l.info("Subgraph - ",m),r.db.addVertex(m.id,{text:m.title,type:m.labelType},"group",void 0,m.classes,m.dir);const T=r.db.getVertices(),S=r.db.getEdges();o.l.info("Edges",S);let B=0;for(B=v.length-1;B>=0;B--){m=v[B],(0,l.selectAll)("cluster").append("text");for(let t=0;t<m.nodes.length;t++)o.l.info("Setting up subgraphs",m.nodes[t],m.id),k.setParent(m.nodes[t],m.id)}g(T,k,e,w,x,r),h(S,k);const C=w.select(`[id="${e}"]`),N=w.select("#"+e+" g");if((0,d.r)(N,k,["point","circle","cross"],"flowchart",e),s.u.insertTitle(C,"flowchartTitleText",f.titleTopMargin,r.db.getDiagramTitle()),(0,s.s)(k,C,f.diagramPadding,f.useMaxWidth),r.db.indexNodes("subGraph"+B),!f.htmlLabels){const t=x.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),n=x.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",t.width),n.setAttribute("height",t.height),e.insertBefore(n,e.firstChild)}}Object.keys(T).forEach((function(t){const n=T[t];if(n.link){const r=(0,l.select)("#"+e+' [id="'+t+'"]');if(r){const t=x.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===p?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);const e=r.insert((function(){return t}),":first-child"),a=r.select(".label-container");a&&e.append((function(){return a.node()}));const l=r.select(".label");l&&e.append((function(){return l.node()}))}}}))}},u=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${t.titleColor};\n  }\n\n  .label text,span,p {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n`})),e.register("eVRfl",(function(n,r){t(n.exports,"p",(()=>s)),t(n.exports,"s",(()=>f));var a=e("2YFJl"),l=e("3IUvT"),i=e("jmbVX");let o=0;const s=function(t){let e=t.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),n=t.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return e&&!n?d(e):n?c(n):p(t)},d=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",a=t[2]?t[2].trim():"",l=t[3]?(0,i.z)(t[3].trim()):"",o=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";n=r+a+l+" "+o,e=h(s)}catch(e){n=t}return{displayText:n,cssStyle:e}},c=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",a=t[2]?t[2].trim():"",l=t[3]?(0,i.z)(t[3].trim()):"",o=t[4]?t[4].trim():"";n=r+a+"("+l+")"+(t[5]?" : "+(0,i.z)(t[5]).trim():""),e=h(o)}catch(e){n=t}return{displayText:n,cssStyle:e}},p=function(t){let e="",n="",r="",a=t.indexOf("("),l=t.indexOf(")");if(a>1&&l>a&&l<=t.length){let o="",s="",d=t.substring(0,1);d.match(/\w/)?s=t.substring(0,a).trim():(d.match(/[#+~-]/)&&(o=d),s=t.substring(1,a).trim());const c=t.substring(a+1,l);t.substring(l+1,1),n=h(t.substring(l+1,l+2)),e=o+s+"("+(0,i.z)(c.trim())+")",l<t.length&&(r=t.substring(l+2).trim(),""!==r&&(r=" : "+(0,i.z)(r),e+=r))}else e=(0,i.z)(t);return{displayText:e,cssStyle:n}},g=function(t,e,n,r){let a=s(e);const l=t.append("tspan").attr("x",r.padding).text(a.displayText);""!==a.cssStyle&&l.attr("style",a.cssStyle),n||l.attr("dy",r.textHeight)},h=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},f={drawClass:function(t,e,n,r){i.l.debug("Rendering class ",e,n);const a=e.id,l={id:a,label:e.id,width:0,height:0},o=t.append("g").attr("id",r.db.lookUpDomId(a)).attr("class","classGroup");let s;s=e.link?o.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let d=!0;e.annotations.forEach((function(t){const e=s.append("tspan").text("«"+t+"»");d||e.attr("dy",n.textHeight),d=!1}));let c=e.id;void 0!==e.type&&""!==e.type&&(c+="<"+e.type+">");const p=s.append("tspan").text(c).attr("class","title");d||p.attr("dy",n.textHeight);const h=s.node().getBBox().height,f=o.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin/2).attr("y2",n.padding+h+n.dividerMargin/2),u=o.append("text").attr("x",n.padding).attr("y",h+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");d=!0,e.members.forEach((function(t){g(u,t,d,n),d=!1}));const b=u.node().getBBox(),y=o.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin+b.height).attr("y2",n.padding+h+n.dividerMargin+b.height),w=o.append("text").attr("x",n.padding).attr("y",h+2*n.dividerMargin+b.height+n.textHeight).attr("fill","white").attr("class","classText");d=!0,e.methods.forEach((function(t){g(w,t,d,n),d=!1}));const x=o.node().getBBox();var k=" ";e.cssClasses.length>0&&(k+=e.cssClasses.join(" "));const m=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",x.width+2*n.padding).attr("height",x.height+n.padding+.5*n.dividerMargin).attr("class",k).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(m-t.getBBox().width)/2)})),e.tooltip&&s.insert("title").text(e.tooltip),f.attr("x2",m),y.attr("x2",m),l.width=m,l.height=x.height+n.padding+.5*n.dividerMargin,l},drawEdge:function(t,e,n,r,s){const d=function(t){switch(t){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const c=e.points,p=(0,a.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(a.curveBasis),g=t.append("path").attr("d",p(c)).attr("id","edge"+o).attr("class","relation");let h,f,u="";r.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),1==n.relation.lineType&&g.attr("class","relation dashed-line"),10==n.relation.lineType&&g.attr("class","relation dotted-line"),"none"!==n.relation.type1&&g.attr("marker-start","url("+u+"#"+d(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&g.attr("marker-end","url("+u+"#"+d(n.relation.type2)+"End)");const b=e.points.length;let y,w,x,k,m=l.u.calcLabelPosition(e.points);if(h=m.x,f=m.y,b%2!=0&&b>1){let t=l.u.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),r=l.u.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[b-1]);i.l.debug("cardinality_1_point "+JSON.stringify(t)),i.l.debug("cardinality_2_point "+JSON.stringify(r)),y=t.x,w=t.y,x=r.x,k=r.y}if(void 0!==n.title){const e=t.append("g").attr("class","classLabel"),a=e.append("text").attr("class","label").attr("x",h).attr("y",f).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=a;const l=a.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",l.x-r.padding/2).attr("y",l.y-r.padding/2).attr("width",l.width+r.padding).attr("height",l.height+r.padding)}if(i.l.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1){t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",y).attr("y",w).attr("fill","black").attr("font-size","6").text(n.relationTitle1)}if(void 0!==n.relationTitle2&&"none"!==n.relationTitle2){t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",x).attr("y",k).attr("fill","black").attr("font-size","6").text(n.relationTitle2)}o++},drawNote:function(t,e,n,r){i.l.debug("Rendering note ",e,n);const a=e.id,l={id:a,text:e.text,width:0,height:0},o=t.append("g").attr("id",a).attr("class","classGroup");let s=o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const d=JSON.parse(`"${e.text}"`).split("\n");d.forEach((function(t){i.l.debug(`Adding line: ${t}`),s.append("tspan").text(t).attr("class","title").attr("dy",n.textHeight)}));const c=o.node().getBBox(),p=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*n.padding).attr("height",c.height+d.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(p-t.getBBox().width)/2)})),l.width=p,l.height=c.height+d.length*n.textHeight+n.padding+.5*n.dividerMargin,l},parseMember:s}})),e.register("bzIQZ",(function(n,r){t(n.exports,"default",(()=>a));var a=(0,e("7N1cZ").default)(Object.getPrototypeOf,Object)})),e.register("3rtvu",(function(n,r){t(n.exports,"default",(()=>g));var a=e("hArsG"),l=e("bzIQZ"),i=e("f2iog"),o=Function.prototype,s=Object.prototype,d=o.toString,c=s.hasOwnProperty,p=d.call(Object);var g=function(t){if(!(0,i.default)(t)||"[object Object]"!=(0,a.default)(t))return!1;var e=(0,l.default)(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==p}}));
//# sourceMappingURL=flowDiagram-v2-8e52592d.4954f8a3.js.map
