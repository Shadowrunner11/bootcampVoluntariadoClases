function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire8ed7;e.register("c8lr6",(function(i,n){t(i.exports,"diagram",(()=>h));var a=e("1BFN5"),r=e("2YFJl"),l=e("4LkSm"),o=e("jmbVX"),s=e("evFAv"),d=e("3IUvT");e("i8Fxz"),e("gngdn"),e("hV1gR"),e("c0ySZ"),e("6Radu"),e("2ujND");const c=t=>o.e.sanitizeText(t,(0,o.g)());let p={dividerMargin:10,padding:5,textHeight:10,curve:void 0};function g(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const u={setConf:function(t){p={...p,...t}},draw:function(t,e,i,n){o.l.info("Drawing class - ",e);const a=(0,o.g)().flowchart??(0,o.g)().class,u=(0,o.g)().securityLevel;o.l.info("config:",a);const h=(null==a?void 0:a.nodeSpacing)??50,f=(null==a?void 0:a.rankSpacing)??50,y=new l.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:h,ranksep:f,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),x=n.db.getClasses(),b=n.db.getRelations(),w=n.db.getNotes();let v;o.l.info(b),function(t,e,i,n){const a=Object.keys(t);o.l.info("keys:",a),o.l.info(t),a.forEach((function(i){var a,r;const l=t[i];let s="";l.cssClasses.length>0&&(s=s+" "+l.cssClasses.join(" "));const d="",p="",g=l.label??l.id,u={labelStyle:d,shape:"class_box",labelText:c(g),classData:l,rx:0,ry:0,class:s,style:p,id:l.id,domId:l.domId,tooltip:n.db.getTooltip(l.id)||"",haveCallback:l.haveCallback,link:l.link,width:"group"===l.type?500:void 0,type:l.type,padding:(null==(a=(0,o.g)().flowchart)?void 0:a.padding)??(null==(r=(0,o.g)().class)?void 0:r.padding)};e.setNode(l.id,u),o.l.info("setNode",u)}))}(x,y,0,n),function(t,e){const i=(0,o.g)().flowchart;let n=0;t.forEach((function(t){var a;n++;const l={classes:"relation",pattern:1==t.relation.lineType?"dashed":"solid",id:"id"+n,arrowhead:"arrow_open"===t.type?"none":"normal",startLabelRight:"none"===t.relationTitle1?"":t.relationTitle1,endLabelLeft:"none"===t.relationTitle2?"":t.relationTitle2,arrowTypeStart:g(t.relation.type1),arrowTypeEnd:g(t.relation.type2),style:"fill:none",labelStyle:"",curve:(0,d.o)(null==i?void 0:i.curve,r.curveLinear)};if(o.l.info(l,t),void 0!==t.style){const e=(0,d.n)(t.style);l.style=e.style,l.labelStyle=e.labelStyle}t.text=t.title,void 0===t.text?void 0!==t.style&&(l.arrowheadStyle="fill: #333"):(l.arrowheadStyle="fill: #333",l.labelpos="c",(null==(a=(0,o.g)().flowchart)?void 0:a.htmlLabels)??(0,o.g)().htmlLabels?(l.labelType="html",l.label='<span class="edgeLabel">'+t.text+"</span>"):(l.labelType="text",l.label=t.text.replace(o.e.lineBreakRegex,"\n"),void 0===t.style&&(l.style=l.style||"stroke: #333; stroke-width: 1.5px;fill:none"),l.labelStyle=l.labelStyle.replace("color:","fill:"))),e.setEdge(t.id1,t.id2,l,n)}))}(b,y),function(t,e,i,n){o.l.info(t),t.forEach((function(t,a){var l,s;const g=t,u="",h="",f=g.text,y={labelStyle:u,shape:"note",labelText:c(f),noteData:g,rx:0,ry:0,class:"",style:h,id:g.id,domId:g.id,tooltip:"",type:"note",padding:(null==(l=(0,o.g)().flowchart)?void 0:l.padding)??(null==(s=(0,o.g)().class)?void 0:s.padding)};if(e.setNode(g.id,y),o.l.info("setNode",y),!g.class||!(g.class in n))return;const x=i+a,b={id:`edgeNote${x}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:(0,d.o)(p.curve,r.curveLinear)};e.setEdge(g.id,g.class,b,x)}))}(w,y,b.length+1,x),"sandbox"===u&&(v=(0,r.select)("#i"+e));const m="sandbox"===u?(0,r.select)(v.nodes()[0].contentDocument.body):(0,r.select)("body"),T=m.select(`[id="${e}"]`),S=m.select("#"+e+" g");if((0,s.r)(S,y,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),d.u.insertTitle(T,"classTitleText",(null==a?void 0:a.titleTopMargin)??5,n.db.getDiagramTitle()),(0,d.s)(y,T,null==a?void 0:a.diagramPadding,null==a?void 0:a.useMaxWidth),!(null==a?void 0:a.htmlLabels)){const t="sandbox"===u?v.nodes()[0].contentDocument:document,i=t.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of i){const i=e.getBBox(),n=t.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",i.width),n.setAttribute("height",i.height),e.insertBefore(n,e.firstChild)}}}},h={parser:a.p,db:a.d,renderer:u,styles:a.s,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,a.d.clear()}}})),e.register("eVRfl",(function(i,n){t(i.exports,"p",(()=>s)),t(i.exports,"s",(()=>h));var a=e("2YFJl"),r=e("3IUvT"),l=e("jmbVX");let o=0;const s=function(t){let e=t.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),i=t.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return e&&!i?d(e):i?c(i):p(t)},d=function(t){let e="",i="";try{let n=t[1]?t[1].trim():"",a=t[2]?t[2].trim():"",r=t[3]?(0,l.z)(t[3].trim()):"",o=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";i=n+a+r+" "+o,e=u(s)}catch(e){i=t}return{displayText:i,cssStyle:e}},c=function(t){let e="",i="";try{let n=t[1]?t[1].trim():"",a=t[2]?t[2].trim():"",r=t[3]?(0,l.z)(t[3].trim()):"",o=t[4]?t[4].trim():"";i=n+a+"("+r+")"+(t[5]?" : "+(0,l.z)(t[5]).trim():""),e=u(o)}catch(e){i=t}return{displayText:i,cssStyle:e}},p=function(t){let e="",i="",n="",a=t.indexOf("("),r=t.indexOf(")");if(a>1&&r>a&&r<=t.length){let o="",s="",d=t.substring(0,1);d.match(/\w/)?s=t.substring(0,a).trim():(d.match(/[#+~-]/)&&(o=d),s=t.substring(1,a).trim());const c=t.substring(a+1,r);t.substring(r+1,1),i=u(t.substring(r+1,r+2)),e=o+s+"("+(0,l.z)(c.trim())+")",r<t.length&&(n=t.substring(r+2).trim(),""!==n&&(n=" : "+(0,l.z)(n),e+=n))}else e=(0,l.z)(t);return{displayText:e,cssStyle:i}},g=function(t,e,i,n){let a=s(e);const r=t.append("tspan").attr("x",n.padding).text(a.displayText);""!==a.cssStyle&&r.attr("style",a.cssStyle),i||r.attr("dy",n.textHeight)},u=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},h={drawClass:function(t,e,i,n){l.l.debug("Rendering class ",e,i);const a=e.id,r={id:a,label:e.id,width:0,height:0},o=t.append("g").attr("id",n.db.lookUpDomId(a)).attr("class","classGroup");let s;s=e.link?o.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",i.textHeight+i.padding).attr("x",0):o.append("text").attr("y",i.textHeight+i.padding).attr("x",0);let d=!0;e.annotations.forEach((function(t){const e=s.append("tspan").text("«"+t+"»");d||e.attr("dy",i.textHeight),d=!1}));let c=e.id;void 0!==e.type&&""!==e.type&&(c+="<"+e.type+">");const p=s.append("tspan").text(c).attr("class","title");d||p.attr("dy",i.textHeight);const u=s.node().getBBox().height,h=o.append("line").attr("x1",0).attr("y1",i.padding+u+i.dividerMargin/2).attr("y2",i.padding+u+i.dividerMargin/2),f=o.append("text").attr("x",i.padding).attr("y",u+i.dividerMargin+i.textHeight).attr("fill","white").attr("class","classText");d=!0,e.members.forEach((function(t){g(f,t,d,i),d=!1}));const y=f.node().getBBox(),x=o.append("line").attr("x1",0).attr("y1",i.padding+u+i.dividerMargin+y.height).attr("y2",i.padding+u+i.dividerMargin+y.height),b=o.append("text").attr("x",i.padding).attr("y",u+2*i.dividerMargin+y.height+i.textHeight).attr("fill","white").attr("class","classText");d=!0,e.methods.forEach((function(t){g(b,t,d,i),d=!1}));const w=o.node().getBBox();var v=" ";e.cssClasses.length>0&&(v+=e.cssClasses.join(" "));const m=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",w.width+2*i.padding).attr("height",w.height+i.padding+.5*i.dividerMargin).attr("class",v).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(m-t.getBBox().width)/2)})),e.tooltip&&s.insert("title").text(e.tooltip),h.attr("x2",m),x.attr("x2",m),r.width=m,r.height=w.height+i.padding+.5*i.dividerMargin,r},drawEdge:function(t,e,i,n,s){const d=function(t){switch(t){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const c=e.points,p=(0,a.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(a.curveBasis),g=t.append("path").attr("d",p(c)).attr("id","edge"+o).attr("class","relation");let u,h,f="";n.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),1==i.relation.lineType&&g.attr("class","relation dashed-line"),10==i.relation.lineType&&g.attr("class","relation dotted-line"),"none"!==i.relation.type1&&g.attr("marker-start","url("+f+"#"+d(i.relation.type1)+"Start)"),"none"!==i.relation.type2&&g.attr("marker-end","url("+f+"#"+d(i.relation.type2)+"End)");const y=e.points.length;let x,b,w,v,m=r.u.calcLabelPosition(e.points);if(u=m.x,h=m.y,y%2!=0&&y>1){let t=r.u.calcCardinalityPosition("none"!==i.relation.type1,e.points,e.points[0]),n=r.u.calcCardinalityPosition("none"!==i.relation.type2,e.points,e.points[y-1]);l.l.debug("cardinality_1_point "+JSON.stringify(t)),l.l.debug("cardinality_2_point "+JSON.stringify(n)),x=t.x,b=t.y,w=n.x,v=n.y}if(void 0!==i.title){const e=t.append("g").attr("class","classLabel"),a=e.append("text").attr("class","label").attr("x",u).attr("y",h).attr("fill","red").attr("text-anchor","middle").text(i.title);window.label=a;const r=a.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",r.x-n.padding/2).attr("y",r.y-n.padding/2).attr("width",r.width+n.padding).attr("height",r.height+n.padding)}if(l.l.info("Rendering relation "+JSON.stringify(i)),void 0!==i.relationTitle1&&"none"!==i.relationTitle1){t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",x).attr("y",b).attr("fill","black").attr("font-size","6").text(i.relationTitle1)}if(void 0!==i.relationTitle2&&"none"!==i.relationTitle2){t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",w).attr("y",v).attr("fill","black").attr("font-size","6").text(i.relationTitle2)}o++},drawNote:function(t,e,i,n){l.l.debug("Rendering note ",e,i);const a=e.id,r={id:a,text:e.text,width:0,height:0},o=t.append("g").attr("id",a).attr("class","classGroup");let s=o.append("text").attr("y",i.textHeight+i.padding).attr("x",0);const d=JSON.parse(`"${e.text}"`).split("\n");d.forEach((function(t){l.l.debug(`Adding line: ${t}`),s.append("tspan").text(t).attr("class","title").attr("dy",i.textHeight)}));const c=o.node().getBBox(),p=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*i.padding).attr("height",c.height+d.length*i.textHeight+i.padding+.5*i.dividerMargin).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(p-t.getBBox().width)/2)})),r.width=p,r.height=c.height+d.length*i.textHeight+i.padding+.5*i.dividerMargin,r},parseMember:s}})),e.register("bzIQZ",(function(i,n){t(i.exports,"default",(()=>a));var a=(0,e("7N1cZ").default)(Object.getPrototypeOf,Object)})),e.register("3rtvu",(function(i,n){t(i.exports,"default",(()=>g));var a=e("hArsG"),r=e("bzIQZ"),l=e("f2iog"),o=Function.prototype,s=Object.prototype,d=o.toString,c=s.hasOwnProperty,p=d.call(Object);var g=function(t){if(!(0,l.default)(t)||"[object Object]"!=(0,a.default)(t))return!1;var e=(0,r.default)(t);if(null===e)return!0;var i=c.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&d.call(i)==p}}));
//# sourceMappingURL=classDiagram-v2-72bddc41.8ed280a5.js.map
