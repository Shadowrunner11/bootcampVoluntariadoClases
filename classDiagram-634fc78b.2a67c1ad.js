function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire8ed7;e.register("hh2sE",(function(r,a){t(r.exports,"diagram",(()=>f));var i=e("1BFN5"),n=e("2YFJl"),d=e("hV1gR"),o=e("4LkSm"),s=e("jmbVX"),l=e("eVRfl"),p=e("3IUvT");e("i8Fxz"),e("gngdn"),e("2ujND");let c={};const g=function(t){const e=Object.entries(c).find((e=>e[1].label===t));if(e)return e[0]},h={draw:function(t,e,r,a){const i=(0,s.g)().class;c={},s.l.info("Rendering diagram "+t);const h=(0,s.g)().securityLevel;let f;"sandbox"===h&&(f=(0,n.select)("#i"+e));const u="sandbox"===h?(0,n.select)(f.nodes()[0].contentDocument.body):(0,n.select)("body"),x=u.select(`[id='${e}']`);var y;(y=x).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),y.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),y.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");const b=new o.Graph({multigraph:!0});b.setGraph({isMultiGraph:!0}),b.setDefaultEdgeLabel((function(){return{}}));const m=a.db.getClasses(),w=Object.keys(m);for(const t of w){const e=m[t],r=l.s.drawClass(x,e,i,a);c[r.id]=r,b.setNode(r.id,r),s.l.info("Org height: "+r.height)}a.db.getRelations().forEach((function(t){s.l.info("tjoho"+g(t.id1)+g(t.id2)+JSON.stringify(t)),b.setEdge(g(t.id1),g(t.id2),{relation:t},t.title||"DEFAULT")}));a.db.getNotes().forEach((function(t){s.l.debug(`Adding note: ${JSON.stringify(t)}`);const e=l.s.drawNote(x,t,i,a);c[e.id]=e,b.setNode(e.id,e),t.class&&t.class in m&&b.setEdge(t.id,g(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")})),(0,d.layout)(b),b.nodes().forEach((function(t){void 0!==t&&void 0!==b.node(t)&&(s.l.debug("Node "+t+": "+JSON.stringify(b.node(t))),u.select("#"+(a.db.lookUpDomId(t)||t)).attr("transform","translate("+(b.node(t).x-b.node(t).width/2)+","+(b.node(t).y-b.node(t).height/2)+" )"))})),b.edges().forEach((function(t){void 0!==t&&void 0!==b.edge(t)&&(s.l.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(b.edge(t))),l.s.drawEdge(x,b.edge(t),b.edge(t).relation,i,a))}));const k=x.node().getBBox(),v=k.width+40,E=k.height+40;(0,p.k)(x,E,v,i.useMaxWidth);const L=`${k.x-20} ${k.y-20} ${v} ${E}`;s.l.debug(`viewBox ${L}`),x.attr("viewBox",L)}},f={parser:i.p,db:i.d,renderer:h,styles:i.s,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,i.d.clear()}}})),e.register("eVRfl",(function(r,a){t(r.exports,"p",(()=>s)),t(r.exports,"s",(()=>f));var i=e("2YFJl"),n=e("3IUvT"),d=e("jmbVX");let o=0;const s=function(t){let e=t.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),r=t.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return e&&!r?l(e):r?p(r):c(t)},l=function(t){let e="",r="";try{let a=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",n=t[3]?(0,d.z)(t[3].trim()):"",o=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";r=a+i+n+" "+o,e=h(s)}catch(e){r=t}return{displayText:r,cssStyle:e}},p=function(t){let e="",r="";try{let a=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",n=t[3]?(0,d.z)(t[3].trim()):"",o=t[4]?t[4].trim():"";r=a+i+"("+n+")"+(t[5]?" : "+(0,d.z)(t[5]).trim():""),e=h(o)}catch(e){r=t}return{displayText:r,cssStyle:e}},c=function(t){let e="",r="",a="",i=t.indexOf("("),n=t.indexOf(")");if(i>1&&n>i&&n<=t.length){let o="",s="",l=t.substring(0,1);l.match(/\w/)?s=t.substring(0,i).trim():(l.match(/[#+~-]/)&&(o=l),s=t.substring(1,i).trim());const p=t.substring(i+1,n);t.substring(n+1,1),r=h(t.substring(n+1,n+2)),e=o+s+"("+(0,d.z)(p.trim())+")",n<t.length&&(a=t.substring(n+2).trim(),""!==a&&(a=" : "+(0,d.z)(a),e+=a))}else e=(0,d.z)(t);return{displayText:e,cssStyle:r}},g=function(t,e,r,a){let i=s(e);const n=t.append("tspan").attr("x",a.padding).text(i.displayText);""!==i.cssStyle&&n.attr("style",i.cssStyle),r||n.attr("dy",a.textHeight)},h=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},f={drawClass:function(t,e,r,a){d.l.debug("Rendering class ",e,r);const i=e.id,n={id:i,label:e.id,width:0,height:0},o=t.append("g").attr("id",a.db.lookUpDomId(i)).attr("class","classGroup");let s;s=e.link?o.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):o.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let l=!0;e.annotations.forEach((function(t){const e=s.append("tspan").text("«"+t+"»");l||e.attr("dy",r.textHeight),l=!1}));let p=e.id;void 0!==e.type&&""!==e.type&&(p+="<"+e.type+">");const c=s.append("tspan").text(p).attr("class","title");l||c.attr("dy",r.textHeight);const h=s.node().getBBox().height,f=o.append("line").attr("x1",0).attr("y1",r.padding+h+r.dividerMargin/2).attr("y2",r.padding+h+r.dividerMargin/2),u=o.append("text").attr("x",r.padding).attr("y",h+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach((function(t){g(u,t,l,r),l=!1}));const x=u.node().getBBox(),y=o.append("line").attr("x1",0).attr("y1",r.padding+h+r.dividerMargin+x.height).attr("y2",r.padding+h+r.dividerMargin+x.height),b=o.append("text").attr("x",r.padding).attr("y",h+2*r.dividerMargin+x.height+r.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach((function(t){g(b,t,l,r),l=!1}));const m=o.node().getBBox();var w=" ";e.cssClasses.length>0&&(w+=e.cssClasses.join(" "));const k=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",m.width+2*r.padding).attr("height",m.height+r.padding+.5*r.dividerMargin).attr("class",w).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(k-t.getBBox().width)/2)})),e.tooltip&&s.insert("title").text(e.tooltip),f.attr("x2",k),y.attr("x2",k),n.width=k,n.height=m.height+r.padding+.5*r.dividerMargin,n},drawEdge:function(t,e,r,a,s){const l=function(t){switch(t){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const p=e.points,c=(0,i.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(i.curveBasis),g=t.append("path").attr("d",c(p)).attr("id","edge"+o).attr("class","relation");let h,f,u="";a.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),1==r.relation.lineType&&g.attr("class","relation dashed-line"),10==r.relation.lineType&&g.attr("class","relation dotted-line"),"none"!==r.relation.type1&&g.attr("marker-start","url("+u+"#"+l(r.relation.type1)+"Start)"),"none"!==r.relation.type2&&g.attr("marker-end","url("+u+"#"+l(r.relation.type2)+"End)");const x=e.points.length;let y,b,m,w,k=n.u.calcLabelPosition(e.points);if(h=k.x,f=k.y,x%2!=0&&x>1){let t=n.u.calcCardinalityPosition("none"!==r.relation.type1,e.points,e.points[0]),a=n.u.calcCardinalityPosition("none"!==r.relation.type2,e.points,e.points[x-1]);d.l.debug("cardinality_1_point "+JSON.stringify(t)),d.l.debug("cardinality_2_point "+JSON.stringify(a)),y=t.x,b=t.y,m=a.x,w=a.y}if(void 0!==r.title){const e=t.append("g").attr("class","classLabel"),i=e.append("text").attr("class","label").attr("x",h).attr("y",f).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=i;const n=i.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",n.x-a.padding/2).attr("y",n.y-a.padding/2).attr("width",n.width+a.padding).attr("height",n.height+a.padding)}if(d.l.info("Rendering relation "+JSON.stringify(r)),void 0!==r.relationTitle1&&"none"!==r.relationTitle1){t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",y).attr("y",b).attr("fill","black").attr("font-size","6").text(r.relationTitle1)}if(void 0!==r.relationTitle2&&"none"!==r.relationTitle2){t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",m).attr("y",w).attr("fill","black").attr("font-size","6").text(r.relationTitle2)}o++},drawNote:function(t,e,r,a){d.l.debug("Rendering note ",e,r);const i=e.id,n={id:i,text:e.text,width:0,height:0},o=t.append("g").attr("id",i).attr("class","classGroup");let s=o.append("text").attr("y",r.textHeight+r.padding).attr("x",0);const l=JSON.parse(`"${e.text}"`).split("\n");l.forEach((function(t){d.l.debug(`Adding line: ${t}`),s.append("tspan").text(t).attr("class","title").attr("dy",r.textHeight)}));const p=o.node().getBBox(),c=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",p.width+2*r.padding).attr("height",p.height+l.length*r.textHeight+r.padding+.5*r.dividerMargin).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(c-t.getBBox().width)/2)})),n.width=c,n.height=p.height+l.length*r.textHeight+r.padding+.5*r.dividerMargin,n},parseMember:s}})),e.register("bzIQZ",(function(r,a){t(r.exports,"default",(()=>i));var i=(0,e("7N1cZ").default)(Object.getPrototypeOf,Object)})),e.register("3rtvu",(function(r,a){t(r.exports,"default",(()=>g));var i=e("hArsG"),n=e("bzIQZ"),d=e("f2iog"),o=Function.prototype,s=Object.prototype,l=o.toString,p=s.hasOwnProperty,c=l.call(Object);var g=function(t){if(!(0,d.default)(t)||"[object Object]"!=(0,i.default)(t))return!1;var e=(0,n.default)(t);if(null===e)return!0;var r=p.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==c}}));
//# sourceMappingURL=classDiagram-634fc78b.2a67c1ad.js.map
